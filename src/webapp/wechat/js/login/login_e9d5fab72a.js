webpackJsonp([2],[function(e,o,s){(function(e,o){"use strict";var t=s(75);new e({el:"#app",data:{phone:"",captcha:"",time:0,isWechat:t.queryString("isWechat"),isSuccess:t.queryString("isSuccess"),message:decodeURIComponent(t.queryString("message"))},beforeCreate:function(){t.adaptive()},mounted:function(){var e=this;"false"==e.isSuccess&&null!=e.message&&t.prompt(e.message),e.init()},methods:{init:function(){},clearError:function(e){o("#"+e).parents(".row").removeClass("error")},sendSms:function(){var e=this;console.log("发送验证码"),o.ajax({url:"/wsj_server/sms/login/sendIdentifyingCode.do",data:{mobile:e.phone},type:"GET",success:function(s){if(s.success){t.prompt(s.message),e.time=60;var n=setInterval(function(){--e.time<=0&&clearInterval(n)},1e3)}else t.prompt(s.message),"发送短信失败，请输入正确的手机号码"==s.message&&(o("#phone").parents(".row").addClass("error"),o("#phone").focus())},error:function(){t.prompt("网络错误，请重试")}})},toLogin:function(){var e=this;return console.log("登录"),11!=e.phone.length?void t.prompt("请输入正确的手机号"):e.phone?e.captcha?void o.ajax({url:"/wsj_server/sms/login/validateCode.do",data:{mobile:e.phone,code:e.captcha},type:"GET",success:function(e){e.success?"注册成功"==e.message?location.href="change_nickname.html":"登陆成功"!=e.message&&"登录成功"!=e.message||(location.href="../index.html"):(t.prompt(e.message),o("#captcha").parents(".row").addClass("error"),o("#captcha").focus())},error:function(){t.prompt("网络错误，请重试")}}):void t.prompt("请输入验证码"):void t.prompt("请输入手机号")},toWechatLogin:function(){console.log("微信登录"),location.href="/wsj_server/wechat/thirdPartLogin.do"},clearInput:function(e){var s=this;switch(o("#"+e).focus(),e){case"phone":s.phone="";break;case"captcha":s.captcha=""}}}})}).call(o,s(1),s(2))}]);